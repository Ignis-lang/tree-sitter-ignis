================================================================================
VALID - Match be statement
================================================================================

match (name) {
  "John" -> "Hi John!",
  "Mary" -> { return "Hi Mary!"; },
  n -> "Hi " + n + "!",
}

--------------------------------------------------------------------------------

(source_file
  (expression
    (match_expression
      (expression
        (primary_expression
          (identifier)))
      (match_arm
        (match_pattern
          (pattern
            (expression
              (primary_expression
                (literal
                  (string_literal))))))
        (expression
          (primary_expression
            (literal
              (string_literal)))))
      (match_arm
        (match_pattern
          (pattern
            (expression
              (primary_expression
                (literal
                  (string_literal))))))
        (block
          (return_statement
            (expression
              (primary_expression
                (literal
                  (string_literal)))))))
      (match_arm
        (match_pattern
          (pattern
            (expression
              (primary_expression
                (identifier)))))
        (expression
          (binary_expression
            (expression
              (binary_expression
                (expression
                  (primary_expression
                    (literal
                      (string_literal))))
                (expression
                  (primary_expression
                    (identifier)))))
            (expression
              (primary_expression
                (literal
                  (string_literal))))))))))

================================================================================
VALID - Match be expression
================================================================================

let message: string = match (name) {
  "John" -> "Hi John!",
  "Mary" -> { return "Hi Mary!"; },
  n -> "Hi " + n + "!",
};

--------------------------------------------------------------------------------

(source_file
  (variable_declaration
    (identifier)
    (type_expression
      (type_identifier
        (base_type
          (primitive_keyword))))
    (expression
      (match_expression
        (expression
          (primary_expression
            (identifier)))
        (match_arm
          (match_pattern
            (pattern
              (expression
                (primary_expression
                  (literal
                    (string_literal))))))
          (expression
            (primary_expression
              (literal
                (string_literal)))))
        (match_arm
          (match_pattern
            (pattern
              (expression
                (primary_expression
                  (literal
                    (string_literal))))))
          (block
            (return_statement
              (expression
                (primary_expression
                  (literal
                    (string_literal)))))))
        (match_arm
          (match_pattern
            (pattern
              (expression
                (primary_expression
                  (identifier)))))
          (expression
            (binary_expression
              (expression
                (binary_expression
                  (expression
                    (primary_expression
                      (literal
                        (string_literal))))
                  (expression
                    (primary_expression
                      (identifier)))))
              (expression
                (primary_expression
                  (literal
                    (string_literal)))))))))))

================================================================================
VALID - Match with when
================================================================================

match (age) {
  n when age == 20 -> println("You are 20 years old!"),
  n when age < 20 -> println("You are younger than 20!"),
  _ -> println("You are older than 20!"),
}

--------------------------------------------------------------------------------

(source_file
  (expression
    (match_expression
      (expression
        (primary_expression
          (identifier)))
      (match_arm
        (match_pattern
          (pattern
            (when_clause
              (expression
                (primary_expression
                  (identifier)))
              (expression
                (binary_expression
                  (expression
                    (primary_expression
                      (identifier)))
                  (expression
                    (primary_expression
                      (literal
                        (integer_literal
                          (decimal_literal))))))))))
        (expression
          (call_expression
            (primary_expression
              (identifier))
            (expression
              (primary_expression
                (literal
                  (string_literal)))))))
      (match_arm
        (match_pattern
          (pattern
            (when_clause
              (expression
                (primary_expression
                  (identifier)))
              (expression
                (binary_expression
                  (expression
                    (primary_expression
                      (identifier)))
                  (expression
                    (primary_expression
                      (literal
                        (integer_literal
                          (decimal_literal))))))))))
        (expression
          (call_expression
            (primary_expression
              (identifier))
            (expression
              (primary_expression
                (literal
                  (string_literal)))))))
      (match_arm
        (match_pattern
          (pattern))
        (expression
          (call_expression
            (primary_expression
              (identifier))
            (expression
              (primary_expression
                (literal
                  (string_literal))))))))))

================================================================================
VALID - Match with guard if
================================================================================

match (c) {
  '+' if self.matchChar('=') -> self.makeToken(TokenType.ADD_ASSIGN),
  '+' if self.matchChar('+') -> self.makeToken(TokenType.INCREMENT),
}

--------------------------------------------------------------------------------

(source_file
  (expression
    (match_expression
      (expression
        (primary_expression
          (identifier)))
      (match_arm
        (match_pattern
          (pattern
            (expression
              (primary_expression
                (literal
                  (char_literal))))
            (guard_clause
              (expression
                (get_expression
                  (method_call_expression
                    (property_access
                      (expression
                        (primary_expression
                          (self_expression)))
                      (identifier))
                    (expression
                      (primary_expression
                        (literal
                          (char_literal))))))))))
        (expression
          (get_expression
            (method_call_expression
              (property_access
                (expression
                  (primary_expression
                    (self_expression)))
                (identifier))
              (expression
                (get_expression
                  (property_access
                    (expression
                      (primary_expression
                        (identifier)))
                    (identifier))))))))
      (match_arm
        (match_pattern
          (pattern
            (expression
              (primary_expression
                (literal
                  (char_literal))))
            (guard_clause
              (expression
                (get_expression
                  (method_call_expression
                    (property_access
                      (expression
                        (primary_expression
                          (self_expression)))
                      (identifier))
                    (expression
                      (primary_expression
                        (literal
                          (char_literal))))))))))
        (expression
          (get_expression
            (method_call_expression
              (property_access
                (expression
                  (primary_expression
                    (self_expression)))
                (identifier))
              (expression
                (get_expression
                  (property_access
                    (expression
                      (primary_expression
                        (identifier)))
                    (identifier)))))))))))
